@model InventoryManagementApp.ViewModels.InventoryViewModels.InventoryCreateViewModel

<div class="mb-3">
    <button id="btnAddItem" class="btn btn-success" data-inventory-id="@Model.InventoryId">
        Add Item
    </button>
</div>

<div id="addItemFormContainer"></div>

<div id="itemListContainer">
    @await Html.PartialAsync("_ItemListPartial", Model.Items)
</div>

@section Scripts {
    <script>
        $(document).ready(function() {
            $(document).on('click', '#btnAddItem', function(e) {
                e.preventDefault();
                console.log("✅ Add Item button clicked"); 

                var inventoryId = $(this).data('inventory-id');
                console.log("InventoryId =", inventoryId);

                $('#addItemFormContainer').load('/Inventory/GetAddItemForm?inventoryId=' + inventoryId, function(response, status, xhr) {
                    console.log("AJAX status:", status);
                    if (status === "error") console.error("Error loading form:", xhr.status, xhr.statusText);
                });
            });
        });
    </script>
}

