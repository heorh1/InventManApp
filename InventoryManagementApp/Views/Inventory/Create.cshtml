@model InventoryManagementApp.ViewModels.Inventory.InventoryCreateViewModel

@{
    ViewData["Title"] = "Create Inventory";
}

<h2>Create Inventory</h2>

@if (ViewBag.SuccessMessage != null)
{
    <div class="alert alert-success">@ViewBag.SuccessMessage</div>
}

<form asp-action="Create" method="post">
    <ul class="nav nav-tabs mb-3" id="inventoryTabs" role="tablist">
        <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#settings">Settings</a></li>
        <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#customid">CustomID</a></li>
        <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#fields">Fields</a></li>
        <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#access">Access</a></li>
        <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#items">Items</a></li>
        <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#chat">Chat</a></li>
        <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#stats">Stats</a></li>
    </ul>

    <div class="tab-content">
        <!-- SETTINGS -->
        <div class="tab-pane fade show active p-3" id="settings">
            <div class="mb-3">
                <label asp-for="Title" class="form-label">Title</label>
                <input asp-for="Title" class="form-control" />
            </div>
            <div class="mb-3">
                <label asp-for="Description" class="form-label">Description</label>
                <textarea asp-for="Description" class="form-control"></textarea>
            </div>
            <div class="mb-3">
                <label asp-for="CategoryId" class="form-label">Category (optional)</label>
                <input asp-for="CategoryId" class="form-control" />
            </div>
            <button type="button" class="btn btn-primary next-tab" data-next="#customid">Next</button>
        </div>

        <!-- CUSTOMID -->
        <div class="tab-pane fade p-3" id="customid">
            <p>In progress...</p>
            <button type="button" class="btn btn-primary next-tab" data-next="#fields">Next</button>
        </div>

        <!-- FIELDS -->
        <div class="tab-pane fade p-3" id="fields">
            <h5>Single-line text field</h5>
            <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" asp-for="CustomString1State" />
                <label class="form-check-label">Field 1 active</label>
            </div>
            <input class="form-control mb-2" placeholder="Title" asp-for="CustomString1Name" />
            <input class="form-control mb-3" placeholder="Description" asp-for="CustomString1Description" />

            <h5>Numeric field</h5>
            <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" asp-for="CustomInt1State" />
                <label class="form-check-label">Field 1 active</label>
            </div>
            <input class="form-control mb-2" placeholder="Title" asp-for="CustomInt1Name" />
            <input class="form-control mb-3" placeholder="Description" asp-for="CustomInt1Description" />

            <h5>Boolean field</h5>
            <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" asp-for="CustomBool1State" />
                <label class="form-check-label">Field 1 active</label>
            </div>
            <input class="form-control mb-2" placeholder="Title" asp-for="CustomBool1Name" />
            <input class="form-control mb-3" placeholder="Description" asp-for="CustomBool1Description" />

            <button type="button" class="btn btn-primary next-tab" data-next="#access">Next</button>
        </div>

        <!-- ACCESS -->
        <div class="tab-pane fade p-3" id="access">
            <div class="form-check form-switch mb-3">
                <input class="form-check-input" type="checkbox" asp-for="IsPublic" />
                <label class="form-check-label" for="IsPublic">Public inventory</label>
            </div>
            <button type="submit" class="btn btn-success">Save</button>
        </div>

        <!-- PLACEHOLDERS -->
        <div class="tab-pane fade p-3" id="items">In progress...</div>
        <div class="tab-pane fade p-3" id="chat">In progress...</div>
        <div class="tab-pane fade p-3" id="stats">In progress...</div>
    </div>
</form>

@section Scripts {
    <script>
        document.querySelectorAll('.next-tab').forEach(btn => {
            btn.addEventListener('click', e => {
                const nextId = e.target.dataset.next;
                const nextTab = document.querySelector(`[href="${nextId}"]`);
                new bootstrap.Tab(nextTab).show();
            });
        });
    </script>
}
